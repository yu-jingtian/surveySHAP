% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/shap_main.R
\name{active_shap_by_group}
\alias{active_shap_by_group}
\title{Active SHAP direction table for a categorical variable}
\usage{
active_shap_by_group(group_prefix, group_factor, shap_feat_mat)
}
\arguments{
\item{group_prefix}{Prefix/regex for one-hot columns (e.g. "partisan").}

\item{group_factor}{Factor vector (length n).}

\item{shap_feat_mat}{n x p SHAP matrix (excluding bias), columns are one-hot features.}
}
\value{
A data.frame with columns \code{level}, \code{shap_active}, \code{n}, \code{onehot}.
}
\description{
For each observation, selects the SHAP value of the one-hot column that matches
its realized factor level, then averages within each level.
}
